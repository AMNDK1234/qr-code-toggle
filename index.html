<!DOCTYPE html>
<html>
<head>
  <title>Custom QR Code Generator</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
  <h1>QR Code Generator</h1>

  <label for="linkInput">Enter URL or Phone Number:</label><br>
  <input type="text" id="linkInput" placeholder="https://example.com or tel:+123456789"><br><br>
  <button onclick="createQR()">Generate QR</button>

  <h2>QR Code:</h2>
  <div id="qrcode"></div>

  <script>
    function createQR() {
      const input = document.getElementById('linkInput').value.trim();
      if (!input) {
        alert('Please enter a URL or phone number.');
        return;
      }

      // Save to status.json (manual step in GitHub)
      const status = {
        active: true,
        destination: input
      };
      const jsonString = JSON.stringify(status, null, 2);
      alert("Now copy the following and paste it into status.json on GitHub:\n\n" + jsonString);

      // QR points to the fixed redirect.html
      const qrContainer = document.getElementById("qrcode");
      qrContainer.innerHTML = "";
      new QRCode(qrContainer, {
        text: window.location.origin + "/qr-code-toggle/redirect.html",
        width: 256,
        height: 256
      });
    }
  </script>
</body>
</html>

